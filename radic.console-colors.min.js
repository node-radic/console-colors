!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("supports-color"),require("color-convert"),require("@radic/util"),require("trucolor")):"function"==typeof define&&define.amd?define(["exports","supports-color","color-convert","@radic/util","trucolor"],e):e((t.console=t.console||{},t.console.colors=t.console.colors||{}),t.supports,t.convert,t._radic_util,t.trucolor)}(this,function(t,e,r,o,n){"use strict";function i(t,e){e=1===e.length&&"array"===o.kindOf(e[0])?e[0]:e;var r;if(t.length)r=t.length;else{if(!isFinite(t))return[!1];r=parseInt(t)}var n=[];return e.map(function(t){return parseInt(t)}).forEach(function(t){return n[t]=r===t}),n}var u=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return i(t,e).indexOf(!0)!==-1},c=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return i(t,e).indexOf(!1)===-1},s=function(){function t(){this.palette=n.simple()}return Object.defineProperty(t.prototype,"convert",{get:function(){return r},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"supports",{get:function(){return e},enumerable:!0,configurable:!0}),t.prototype.get=function(t,e){return(this.palette[t]?this.palette[t]:this.getTrucolorColor(t))[e?"out":"in"]},t.prototype.getTrucolorColor=function(t){return n.trucolor(t,this.palette)},t.prototype.getStyles=function(){return this.palette},t.prototype.styles=function(t){return this.palette=n.palette(this.palette,t),this},t.prototype.reset=function(){return this.palette=n.palette(),this},t}(),p=function(){function t(){this.colors=new s}return t.prototype.parse=function(t){var e=this;return this.getTagsExp().test(t)?(this.getTextTags(t,this.getTagsExp()).forEach(function(r){var o=e.parseTag(r);t=o.replace(t)}),t):t},t.prototype.clean=function(t){return this.getTagsExp().test(t)?t.replace(this.getTagsExp(),""):t},t.prototype.getTagsExp=function(){return/{(.*?)}/g},t.prototype.getTextTags=function(t,e){for(var r,o=[];null!==(r=e.exec(t));)o.push(r);return o},t.prototype.parseTag=function(t){var e=this,r={};t[1].split(".").forEach(function(t){return r[t]=e.parseColor(t)});var o=Object.keys(r).map(function(t){return r[t]}),n=o.join(""),i=function(e){return e.replace(t[0],""===n?t[0]:n)};return{replacements:r,colors:o,string:n,replace:i}},t.prototype.parseColor=function(t){var e="/"===t.charAt(0);if(t=e?t.replace("/",""):t,"f"===t.charAt(0)||"b"===t.charAt(0)){var r=/^([fb])([:(])(.*)([)])$/m;if(r.test(t)){var o=t.match(r),n=o[3];return"b"===o[1]&&(n="background "+n),this.colors.get(n,e)}}try{return this.colors.get(t,e)}catch(t){return""}},t}();t.Parser=p,t.Colors=s,t.isAnyLength=u,t.isAllLength=c,t.isLength=u,Object.defineProperty(t,"__esModule",{value:!0})});
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("supports-color"),require("color-convert"),require("@radic/util"),require("trucolor")):"function"==typeof define&&define.amd?define(["exports","supports-color","color-convert","@radic/util","trucolor"],t):t((e.console=e.console||{},e.console.colors=e.console.colors||{}),e.supports,e.convert,e._radic_util,e.trucolor)}(this,function(e,t,r,o,n){"use strict";function i(e,t){t=1===t.length&&"array"===o.kindOf(t[0])?t[0]:t;var r;if(e.length)r=e.length;else{if(!isFinite(e))return[!1];r=parseInt(e)}var n=[];return t.map(function(e){return parseInt(e)}).forEach(function(e){return n[e]=r===e}),n}var u=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return i(e,t).indexOf(!0)!==-1},c=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return i(e,t).indexOf(!1)===-1},s=function(){function e(){this.palette=n.simplePalette()}return Object.defineProperty(e.prototype,"convert",{get:function(){return r},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"supports",{get:function(){return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trucolor",{get:function(){return n},enumerable:!0,configurable:!0}),e.prototype.get=function(e,t){return(this.palette[e]?this.palette[e]:this.getTrucolorColor(e))[t?"out":"in"]},e.prototype.getTrucolorColor=function(e){return require("deep-assign")(this.palette,n.bulk({},{color:e})).color},e.prototype.getStyles=function(e){return void 0===e&&(e={}),require("deep-assign")(this.palette,n.bulk({},e))},e.prototype.styles=function(e){this.palette=require("deep-assign")(this.palette,n.bulk({},e))},e.prototype.reset=function(){this.palette=n.simplePalette()},e}(),p=function(){function e(){this.exp=/\{(.*?)\}/g,this.colors=new s}return e.prototype.parse=function(e){var t=this;return this.getBrackets().test(e)?(this.getTextTags(e,this.getBrackets()).forEach(function(r){var o=t.parseTag(r);e=o.replace(e)}),e):e},e.prototype.getBrackets=function(){return/\{(.*?)\}/g},e.prototype.getTextTags=function(e,t){for(var r,o=[];null!==(r=t.exec(e));)o.push(r);return o},e.prototype.parseTag=function(e){var t=this,r={};e[1].split(".").forEach(function(e){return r[e]=t.parseColor(e)});var o=Object.keys(r).map(function(e){return r[e]}),n=o.join(""),i=function(t){return t.replace(e[0],""===n?e[0]:n)};return{replacements:r,colors:o,string:n,replace:i}},e.prototype.parseColor=function(e){var t="/"===e.charAt(0);if(e=t?e.replace("/",""):e,"f"===e.charAt(0)||"b"===e.charAt(0)){var r=/^(f|b)(\:|\()(.*)$/m;if(r.test(e)){var o=e.match(r),n=o[3];return"b"===o[1]&&(n="background "+n),this.colors.get(n,t)}}try{return this.colors.get(e,t)}catch(e){return""}},e}();e.Parser=p,e.Colors=s,e.isAnyLength=u,e.isAllLength=c,e.isLength=u,Object.defineProperty(e,"__esModule",{value:!0})});